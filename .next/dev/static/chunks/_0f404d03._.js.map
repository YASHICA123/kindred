{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashi/Downloads/kindred-1/lib/firebase.ts"],"sourcesContent":["// Firebase configuration for Next.js app\r\nimport { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAfZbPSMQpmi3EUQexROYzpB9UmezRxpbQ\",\r\n  authDomain: \"kindred-c52ce.firebaseapp.com\",\r\n  projectId: \"kindred-c52ce\",\r\n  storageBucket: \"kindred-c52ce.firebasestorage.app\",\r\n  messagingSenderId: \"310846675726\",\r\n  appId: \"1:310846675726:web:a64e06c979f4e64385955f\",\r\n  measurementId: \"G-BR30L8VPPC\"\r\n};\r\n\r\n// Initialize Firebase only if it hasn't been initialized\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { app, auth, db };\r\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;;;;;AACzC;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,yDAAyD;AACzD,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,oLAAa,EAAC,kBAAkB,IAAA,8KAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashi/Downloads/kindred-1/components/providers/auth-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type { ReactNode } from \"react\"\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\nimport { User, onAuthStateChanged } from \"firebase/auth\"\r\nimport { auth } from \"@/lib/firebase\"\r\n\r\ninterface AuthContextType {\r\n  user: User | null\r\n  loading: boolean\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      setUser(currentUser)\r\n      setLoading(false)\r\n    })\r\n\r\n    return () => unsubscribe()\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAuthContext() {\r\n  const context = useContext(AuthContext)\r\n  if (!context) {\r\n    return { user: null, loading: false }\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAAA;AACA;;;AALA;;;;AAYA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM,cAAc,IAAA,mLAAkB,EAAC,0HAAI;sDAAE,CAAC;oBAC5C,QAAQ;oBACR,WAAW;gBACb;;YAEA;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC1C;;;;;;AAGP;GAlBgB;KAAA;AAoBT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,OAAO;YAAE,MAAM;YAAM,SAAS;QAAM;IACtC;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashi/Downloads/kindred-1/hooks/use-auth.ts"],"sourcesContent":["import { useContext } from 'react'\r\nimport { useAuthContext } from '@/components/providers/auth-provider'\r\n\r\nexport function useAuth() {\r\n  return useAuthContext()\r\n}\r\n"],"names":[],"mappings":";;;;AACA;;;AAEO,SAAS;;IACd,OAAO,IAAA,iKAAc;AACvB;GAFgB;;QACP,iKAAc"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashi/Downloads/kindred-1/hooks/use-saved-schools.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport { useAuth } from '@/hooks/use-auth'\r\n\r\ninterface SavedSchool {\r\n  schoolId: string | number\r\n  schoolName: string\r\n  schoolImage: string\r\n  schoolLocation: string\r\n  savedAt: string\r\n}\r\n\r\ninterface SavedSchoolsContextType {\r\n  savedSchools: SavedSchool[]\r\n  isSaved: (schoolId: string | number) => boolean\r\n  toggleSave: (school: SavedSchool) => Promise<void>\r\n  loading: boolean\r\n}\r\n\r\nconst SavedSchoolsContext = createContext<SavedSchoolsContextType | undefined>(undefined)\r\n\r\nexport function SavedSchoolsProvider({ children }: { children: React.ReactNode }) {\r\n  const [savedSchools, setSavedSchools] = useState<SavedSchool[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const { user } = useAuth()\r\n\r\n  // Fetch saved schools when user logs in\r\n  useEffect(() => {\r\n    if (user?.uid) {\r\n      fetchSavedSchools()\r\n    } else {\r\n      setSavedSchools([])\r\n    }\r\n  }, [user?.uid])\r\n\r\n  const fetchSavedSchools = async () => {\r\n    if (!user?.uid) return\r\n    \r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch(`/api/user/saved-schools?userId=${user.uid}`)\r\n      const data = await response.json()\r\n      setSavedSchools(data.savedSchools || [])\r\n    } catch (error) {\r\n      console.error('Error fetching saved schools:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const isSaved = (schoolId: string | number) => {\r\n    return savedSchools.some((school) => school.schoolId === schoolId)\r\n  }\r\n\r\n  const toggleSave = async (school: SavedSchool) => {\r\n    if (!user?.uid) return\r\n\r\n    try {\r\n      const isSavedNow = isSaved(school.schoolId)\r\n\r\n      if (isSavedNow) {\r\n        // Remove from saved\r\n        await fetch(`/api/user/saved-schools`, {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ userId: user.uid, schoolId: school.schoolId }),\r\n        })\r\n        setSavedSchools((prev) => prev.filter((s) => s.schoolId !== school.schoolId))\r\n      } else {\r\n        // Add to saved\r\n        await fetch(`/api/user/saved-schools`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${await user.getIdToken()}` },\r\n          body: JSON.stringify({ userId: user.uid, ...school }),\r\n        })\r\n        setSavedSchools((prev) => [...prev, { ...school, savedAt: new Date().toISOString() }])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling save:', error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SavedSchoolsContext.Provider value={{ savedSchools, isSaved, toggleSave, loading }}>\r\n      {children}\r\n    </SavedSchoolsContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useSavedSchools() {\r\n  const context = useContext(SavedSchoolsContext)\r\n  if (!context) {\r\n    throw new Error('useSavedSchools must be used within SavedSchoolsProvider')\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAoBA,MAAM,oCAAsB,IAAA,8KAAa,EAAsC;AAExE,SAAS,qBAAqB,EAAE,QAAQ,EAAiC;;IAC9E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kIAAO;IAExB,wCAAwC;IACxC,IAAA,0KAAS;0CAAC;YACR,IAAI,MAAM,KAAK;gBACb;YACF,OAAO;gBACL,gBAAgB,EAAE;YACpB;QACF;yCAAG;QAAC,MAAM;KAAI;IAEd,MAAM,oBAAoB;QACxB,IAAI,CAAC,MAAM,KAAK;QAEhB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,MAAM,CAAC,+BAA+B,EAAE,KAAK,GAAG,EAAE;YACzE,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,gBAAgB,KAAK,YAAY,IAAI,EAAE;QACzC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,UAAU,CAAC;QACf,OAAO,aAAa,IAAI,CAAC,CAAC,SAAW,OAAO,QAAQ,KAAK;IAC3D;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI,CAAC,MAAM,KAAK;QAEhB,IAAI;YACF,MAAM,aAAa,QAAQ,OAAO,QAAQ;YAE1C,IAAI,YAAY;gBACd,oBAAoB;gBACpB,MAAM,MAAM,CAAC,uBAAuB,CAAC,EAAE;oBACrC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE,QAAQ,KAAK,GAAG;wBAAE,UAAU,OAAO,QAAQ;oBAAC;gBACrE;gBACA,gBAAgB,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,OAAO,QAAQ;YAC7E,OAAO;gBACL,eAAe;gBACf,MAAM,MAAM,CAAC,uBAAuB,CAAC,EAAE;oBACrC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,iBAAiB,CAAC,OAAO,EAAE,MAAM,KAAK,UAAU,IAAI;oBAAC;oBACpG,MAAM,KAAK,SAAS,CAAC;wBAAE,QAAQ,KAAK,GAAG;wBAAE,GAAG,MAAM;oBAAC;gBACrD;gBACA,gBAAgB,CAAC,OAAS;2BAAI;wBAAM;4BAAE,GAAG,MAAM;4BAAE,SAAS,IAAI,OAAO,WAAW;wBAAG;qBAAE;YACvF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,qBACE,6LAAC,oBAAoB,QAAQ;QAAC,OAAO;YAAE;YAAc;YAAS;YAAY;QAAQ;kBAC/E;;;;;;AAGP;GAlEgB;;QAGG,kIAAO;;;KAHV;AAoET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}